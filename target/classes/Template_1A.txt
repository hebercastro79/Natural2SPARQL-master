# Template_1A.txt (Revertido - Usa #VALOR_DESEJADO# como predicado)
# Busca valor (dinâmico) por Ticker/Entidade e Data
PREFIX b3: <https://dcm.ffclrp.usp.br/lssb/stock-market-ontology#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?valor
WHERE {
  ?valor_mobiliario b3:representadoPor ?codigo .
  ?codigo b3:ticker #ENTIDADE_NOME# . # Espera um Ticker com aspas aqui, ex: "CMIN3"

  ?valor_mobiliario b3:negociado ?negociado .
  ?negociado b3:negociadoDurante ?pregao .

  # Usa #VALOR_DESEJADO# diretamente para o predicado (Java adicionará b3:)
  ?negociado #VALOR_DESEJADO# ?valor . # <-- REVERTIDO

  ?pregao b3:ocorreEmData #DATA# . # Espera data com aspas e tipo, ex: "2023-05-08"^^xsd:date
}
LIMIT 10